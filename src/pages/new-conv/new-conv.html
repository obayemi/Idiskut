<!--
  Generated template for the NewConvPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>New thread</ion-title>
  </ion-navbar>
</ion-header>


<ion-content padding>
    <form>
        <ion-item>
            <ion-label floating>Thread name</ion-label>
            <ion-input type="text"
                       [formControl]="threadName"
                       class="formcontrol"
                       name="threadName"
                       required></ion-input>
        </ion-item>
        <ion-list>
            <ion-list-header>Users in thread</ion-list-header>
            <ion-item *ngIf="users.length">No members yet, add some</ion-item>
            <ion-item *ngFor="let u of users">
                <ion-avatar item-start>
                    <img src="{{ u.photoUrl}}">
                </ion-avatar>
                <h2>{{ u.displayName }}</h2>
                <h3>{{ u.email }}</h3>
            </ion-item>
        </ion-list>
    </form>
    <ion-item>
        <ion-input type="search"
                   name="searchUser"
                   placeholder="user name"
                   class="formcontrol"
                   [formControl]="searchUser"></ion-input>
    </ion-item>
    <ion-list>
        <button ion-item *ngFor="let u of search_result$ | async" (click)=selectContact(u)>
            {{ u.displayName }}
        </button>
    </ion-list>
    <ion-footer no-shadow>
        <ion-toolbar position="bottom">
            <button ion-button full large (click)=createThread()>
                Create thread
            </button>
        </ion-toolbar>
    </ion-footer>
</ion-content>
